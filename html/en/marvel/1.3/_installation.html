
<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Installation</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Marvel Documentation" /><link rel="up" href="index.html" title="Marvel Documentation" /><link rel="prev" href="dashboards.html" title="Marvelâ€™s Dashboards" /><link rel="next" href="upgrade.html" title="Upgrade" />
  
 
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
 	
	<meta name="description" content="" />
	<meta name="keywords" content="" />



	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<!-- For third-generation iPad with high-resolution Retina display: -->
	<link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">

	<!-- For iPhone with high-resolution Retina display: -->

	<link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">

	<!-- For first- and second-generation iPad: -->

	<link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
	<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'> -->
	<link type="text/css" rel="stylesheet" href="/static/css/skel.css" />	
	<link type="text/css" rel="stylesheet" href="/static/css/style.css" />	
	<script src="/static/js/skel.min.js"></script>
	<script type="text/javascript">form_name = "guide_template"</script>
	<script src="/static/js/init.js"></script>
	<script src="/static/js/classie.js"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->

	
	<link type="text/css" rel="stylesheet" href="/static/css/prettify.css" />	
	<script type="text/javascript" src="/static/js/prettify.js"></script>

	

<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	
	<div class="header-cont">
		<div id="header-wrapper">
			

<div class="container w100">
	<div class="row">
		<div class="12u">
			<section>
				<div class="row">
					<div class="8u 6u(small) 6u(xsmall)">
						<div id="elastic">
							<h1><a href="/"></a></h1>
						</div>
						<!-- Searchbar Input box -->
						<form method="get" action="/search" name="searchForm" class="header-search-form">
						   <input type="text" id="search-header-autocomplete" name="q" class="form-control global-input" placeholder="elastic{search}">
						</form>
						<div class="mobile-auto-complete"></div> 
					</div>
					<div class="4u 6u(small) 6u(xsmall)">
						<!-- Mobile Menu -->
						<div class="mobile-menu-wrapper">
							<ul class="m-shortcuts">
								<li><a id="header-search" class="m-search" href="#"></a></li>
								<li><a class="m-guide" href="/guide"></a></li>
								<li><a class="m-contact" href="/contact"></a></li>
							</ul>											
							<nav class="nav-menu">
								<div class="menu-button">
									<span></span>
								</div>
								<div class="nav-menu-list-wrap">
									<div class="nav-menu-list">
										<h3><a href="/products">Products</a></h3>
										<ul>
											<li><a href="/products/elasticsearch">Elasticsearch</a></li>
											<li><a href="/products/logstash">Logstash</a></li>
											<li><a href="/products/kibana">Kibana</a></li>
											<li><a href="/products/shield">Shield</a></li>
											<li><a href="/products/marvel">Marvel</a></li>
											<li><a href="/products/hadoop">Hadoop</a></li>
											<li><a href="/subscriptions">Support</a></li>
											<li><a href="/downloads">Downloads</a></li>
										</ul>
										<h3><a href="/subscriptions">Subscriptions</a></h3>
										<h3><a href="/learn">Learn</a></h3>
										<ul>
											<li><a href="/guide">Docs</a></li>
											<li><a href="/videos">Videos</a></li>
											<li><a href="http://purchases.elasticsearch.com" target="_blank">Training</a></li>
											<li><a href="/blog">Blog</a></li>
											<li><a href="/elasticon">elastic{ON}</a></li>
										</ul>
										<h3><a href="/community">Community</a></h3>
										<ul>
											<li><a href="/community/meetups">Meetups</a></li>
										</ul>
										<h3><a href="/use-cases">Use Cases</a></h3>
										<h3><a href="/about">About</a></h3>
										<ul>
											<li><a href="/about/leadership">Leadership</a></li>
											<li><a href="/about/board">Board of Directors</a></li>
											<li><a href="/about/careers">Careers</a></li>
											<li><a href="/about/partners">Partners</a></li>
											<li><a href="/about/press">Press</a></li>
										</ul>
									</div>
								</div>
							</nav>
						</div>
						<!-- Shortcuts -->
						<nav id="shortcuts">
							<ul class="links">
								
									<li class="sc-downloads grayscale"><a href="/downloads" id="header_downloads">downloads</a></li>
								
									<li class="sc-docs grayscale"><a href="/guide" id="header_guide">docs</a></li>
								
									<li class="sc-support grayscale"><a href="/subscriptions" id="header_subscriptions">support</a></li>
								
									<li class="sc-contact grayscale"><a href="/contact" id="header_contact">contact</a></li>
								
							</ul>
						</nav>
					</div>
				</div>
			</section>
			

<section class="desktop-main-nav">
	<div class="row">
		<div class="9u">
			<!-- Nav -->
			<nav id="nav">
				<ul>
					
					<li>
						<a href="/products" id="nav_products" >PRODUCTS</a>
						
						<ul class="dropdown">
							
								<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>								
							
								<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>								
							
								<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>								
							
								<li><a href="/products/shield" id="nav_shield" >shield</a></li>								
							
								<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>								
							
								<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>								
							
								<li><a href="/subscriptions" id="nav_support" >support</a></li>								
							
								<li><a href="/downloads" id="nav_downloads" >downloads</a></li>								
								
						</ul>							
					</li>
					
					<li>
						<a href="/subscriptions" id="nav_subscriptions" >SUBSCRIPTIONS</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						<a href="/learn" id="nav_learn" >LEARN</a>
						
						<ul class="dropdown">
							
								<li><a href="/guide" id="nav_guide" >docs</a></li>								
							
								<li><a href="/videos" id="nav_videos" >videos</a></li>								
							
								<li><a href="http://purchases.elastic.co" id="nav_training" >training</a></li>								
							
								<li><a href="/blog" id="nav_learn_blog" >blog</a></li>								
							
								<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>								
								
						</ul>							
					</li>
					
					<li>
						<a href="/community" id="nav_community" >COMMUNITY</a>
						
						<ul class="dropdown">
							
								<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>								
								
						</ul>							
					</li>
					
					<li>
						<a href="/use-cases" id="nav_usecases" >USE CASES</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						<a href="/blog" id="nav_blog" >BLOG</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						<a href="/about" id="nav_about" >ABOUT</a>
						
						<ul class="dropdown">
							
								<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>								
							
								<li><a href="/about/board" id="nav_board" >board of directors</a></li>								
							
								<li><a href="/about/careers" id="nav_careers" >careers</a></li>								
							
								<li><a href="/about/partners" id="nav_partners" >partners</a></li>								
							
								<li><a href="/about/press" id="nav_press" >press</a></li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>
		</div>
		<!-- Search -->
		<div class="3u">
			<div id="searchbar">
				<form method="get" action="/search" name="searchForm">
					<input type="text" value="" name="q" placeholder="elastic{search}" id="autocomplete">
					<button class="button icon" onclick="searchForm.submit()">GO</button>
				</form>
			</div>
			<div class="nav-auto-complete"></div>
		</div>
	</div>
</section>

		</div>
	</div>
</div>

<style>	
	
		.sc-downloads{ background: url("/assets/blt0b75d0822b89593e/shortcuts.png") no-repeat;}
	
		.sc-docs{ background: url("/assets/blt0b75d0822b89593e/shortcuts.png") no-repeat;}
	
		.sc-support{ background: url("/assets/blt0b75d0822b89593e/shortcuts.png") no-repeat;}
	
		.sc-contact{ background: url("/assets/blt0b75d0822b89593e/shortcuts.png") no-repeat;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1>Learn |</h1>
            <h2>Docs</h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Marvel Documentation</a></span> Â» <span class="breadcrumb-node">Installation</span></div><div class="navheader"><span class="prev"><a href="dashboards.html">
              Â«Â 
              Marvelâ€™s Dashboards</a>
          Â 
        </span><span class="next">
          Â 
          <a href="upgrade.html">Upgrade
              Â Â»
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="_installation"></a>Installation</h1></div></div></div><div class="toc"><dl><dt><span class="chapter"><a href="dashboards.html">Marvelâ€™s Dashboards</a></span></dt><dt><span class="chapter"><a href="_installation.html">Installation</a></span></dt><dt><span class="chapter"><a href="upgrade.html">Upgrade</a></span></dt><dt><span class="chapter"><a href="configuration.html">Configuration Options</a></span></dt><dt><span class="chapter"><a href="change_list.html">Change list</a></span></dt></dl></div><p>Marvel is installed as an Elasticsearch plugin. The plugin must be installed
on <span class="strong"><strong>every node in the cluster</strong></span>. By default, the plugin will store data in the
same Elasticsearch cluster that it is monitoring.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>If you are monitoring a production cluster we recommend that you send this
data to another cluster that will serve as a <span class="emphasis"><em>monitoring cluster</em></span>.</p><p>This will help to prevent a problem in one cluster from impacting the other
cluster. For example, when your production cluster is having trouble you would
like to make sure you can view the Marvel data easily.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_system_requirements"></a>System Requirements</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Elasticsearch
</span></dt><dd>
0.90.9 or above
</dd><dt><span class="term">
Browser
</span></dt><dd>
The latest version of Chrome, Firefox or Safari is
                recommended. Internet Explorer 10 and above is also supported.
</dd><dt><span class="term">
CORS
</span></dt><dd>
If you are using <a class="xref" href="dashboards.html#sense" title="Sense">Sense</a> to access a remote cluster, you will need
                to configure the cluster to allow CORS requests. See <a class="xref" href="configuration.html#cors" title="CORS">CORS</a> for more details.
</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_simple_install"></a>Simple install</h2></div></div></div><p>This is simplest way to install and use Marvel. Marvel data will be stored on
the same cluster as the one being monitored and you will be able to access the
Marvel UI from every node. Follow these steps on every node in the cluster:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
From the Elasticsearch home directory, run:
</p><pre class="programlisting prettyprint lang-sh">bin/plugin -i elasticsearch/marvel/latest</pre></li><li class="listitem">
Restart your Elasticsearch node
</li></ol></div><p>Once the plugin is installed on all nodes, you can access the Marvel UI by
viewing <a class="ulink" href="http://any-server-in-cluster:9200/_plugin/marvel/" target="_top">http://any-server-in-cluster:9200/_plugin/marvel/</a> with any modern
browser. It may take a minute for the initial data to appear.</p><p>A couple of points to consider:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Since this requires to restart the nodes of your cluster, you might want
  to temporarily <a class="ulink" href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/modules-cluster.html" target="_top">disable allocations</a>.
</li><li class="listitem">
If you run your cluster using a non-standard port, you need to change the
  <code class="literal">marvel.agent.exporter.es.hosts</code> settings. See <a class="xref" href="configuration.html" title="Configuration Options"><em>Configuration Options</em></a>.
</li><li class="listitem">
If your server doesnâ€™t have direct internet access see <a class="xref" href="_installation.html#manual_download" title="Manual download">Manual download</a>
  for an alternative way to get the Marvel binaries.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="_installing_a_secondary_monitoring_cluster"></a>Installing a secondary Monitoring Cluster</h2></div></div></div><p>First, prepare the <span class="emphasis"><em>monitoring cluster</em></span>â€‰â€”â€‰the cluster you will use to store
and analyze Marvelâ€™s data. For this example, we will assume two hosts,
<code class="literal">es-mon-1</code> and <code class="literal">es-mon-2</code>, are in the monitoring cluster.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_the_monitoring_cluster"></a>The monitoring cluster</h3></div></div></div><p>For each node in the monitoring cluster:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Prevent the nodes in the monitoring cluster from generating their own stats,
   by adding the following line to <code class="literal">config/elasticsearch.yml</code>:
</p><pre class="programlisting prettyprint lang-yaml">marvel.agent.enabled: false</pre></li><li class="listitem"><p class="simpara">
Install the plugin. From the Elasticsearch home directory run
</p><pre class="programlisting prettyprint lang-sh">bin/plugin -i elasticsearch/marvel/latest</pre></li><li class="listitem">
Restart Elasticsearch
</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_the_production_cluster"></a>The production cluster</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Tell each node where to send its stats by adding this line to
    `config/elasticsearch.yml:
</p><pre class="programlisting prettyprint lang-yaml">marvel.agent.exporter.es.hosts: ["es-mon-1:9200","es-mon-2:9200"]</pre><p class="simpara">This line adds two hosts of your monitoring cluster to receive the data, a
primary and a backup.</p></li><li class="listitem"><p class="simpara">
Install the plugin. From the Elasticsearch home directory run
</p><pre class="programlisting prettyprint lang-sh">bin/plugin -i elasticsearch/marvel/latest</pre></li><li class="listitem">
Restart Elasticsearch
</li></ol></div><p>Once the plugin is installed on all nodes, you can access the Marvel UI by
opening this link with any modern browser.</p><pre class="literallayout">http://any-server-in-monitoring-cluster:9200/_plugin/marvel/</pre><p>It may take a minute or two for data to appear.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>You may want to temporarily <a class="ulink" href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/modules-cluster.html" target="_top">disable shard
allocation</a> before you restart your nodes to avoid unnecessary shard
reallocation during the install process.</p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="previous_versions"></a>Installing previous versions</h2></div></div></div><p>Previously released versions of Marvel are available by specifying an exact version. For example:</p><pre class="programlisting prettyprint lang-sh">bin/plugin -i elasticsearch/marvel/1.0.2</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="manual_download"></a>Manual download</h2></div></div></div><p>Elasticsearchâ€™s <code class="literal">bin/plugin</code> script requires direct internet access for downloading
and installing Marvel. If your server doesnâ€™t have internet access, you can download
the Marvel binaries from the following link: <a class="ulink" href="https://download.elasticsearch.org/elasticsearch/marvel/marvel-latest.zip" target="_top">https://download.elasticsearch.org/elasticsearch/marvel/marvel-latest.zip</a></p><p>Once you have transferred the zip file to your server, you can use the <code class="literal">bin/plugin</code>
script to install it:</p><pre class="programlisting prettyprint lang-sh">bin/plugin -i marvel -u file://PATH_TO_MARVEL_ZIP_FILE</pre><p>After the script has finish, continue according to the standard installation procedure.</p></div></div><div class="navfooter"><span class="prev"><a href="dashboards.html">
              Â«Â 
              Marvelâ€™s Dashboards</a>
          Â 
        </span><span class="next">
          Â 
          <a href="upgrade.html">Upgrade
              Â Â»
            </a></span></div>
<!-- end body -->

            </section>

            <!-- Footer -->
        
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		Â© 2015. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div><!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>					
		</section>
	</div>
			
	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="http://www.linkedin.com/company/elasticsearch" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
				</ul>
			</div>
		</section>
	</div>


<style type="text/css">
	
		.facebook{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
		.twitter{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
		.linkedin{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
		.xing{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
</style>	

  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script src="/static/js/script.js"></script>
   	
   		

            <script type="text/javascript">
  jQuery(function() {
    jQuery('#guide a[id]').each(function() { this.href='#'+this.id });
    jQuery('pre.prettyprint').each(function() {
      var pre = jQuery(this);
      pre.css('position','absolute');
      pre.css('width','auto');
      var height = pre.innerHeight();
      pre.wrap('<div class="pre_wrapper" style="height:' + (10 + height) + 'px"></div>');
    })
  });
</script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>
<script type="text/javascript" >
  (function ($, $a, $title, $list) {
    $a = $('[id^="js-api-method-index"]');
    if (!$a.size()) return;
    $('#guide').addClass('js-client-docs');
    $list = $a.siblings('.itemizedlist').detach();
    $title = $(document.createElement('h2')).text('api methods')
    $a.parent().remove();
    $('.toc').first().append($(document.createElement('div')).addClass('js-api-method-index').append($title).append($list));
  }(jQuery));
</script>

            </body>
        