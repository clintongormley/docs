
<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Root Object</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide" /><link rel="up" href="index-management.html" title="Index Management" /><link rel="prev" href="mapping.html" title="Types and Mappings" /><link rel="next" href="dynamic-mapping.html" title="Dynamic Mapping" />
  
 
 	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
 	
	<meta name="description" content="" />
	<meta name="keywords" content="" />



	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<!-- For third-generation iPad with high-resolution Retina display: -->
	<link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">

	<!-- For iPhone with high-resolution Retina display: -->

	<link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">

	<!-- For first- and second-generation iPad: -->

	<link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
	<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'> -->
	<link type="text/css" rel="stylesheet" href="/static/css/skel.css" />	
	<link type="text/css" rel="stylesheet" href="/static/css/style.css" />	
	<script src="/static/js/skel.min.js"></script>
	<script type="text/javascript">form_name = "guide_template"</script>
	<script src="/static/js/init.js"></script>
	<script src="/static/js/classie.js"></script>
	<!--<script type="text/javascript">
	    (function() {
	        var path = '//easy.myfonts.net/v2/js?sid=10336(font-family=Avenir+35+Light)&sid=10338(font-family=Avenir+55+Roman)&sid=10340(font-family=Avenir+85+Heavy)&sid=10344(font-family=Avenir+65+Medium)&key=nAD6PCOPrX',
	            protocol = ('https:' == document.location.protocol ? 'https:' : 'http:'),
	            trial = document.createElement('script');
	        trial.type = 'text/javascript';
	        trial.async = true;
	        trial.src = protocol + path;
	        var head = document.getElementsByTagName("head")[0];
	        head.appendChild(trial);
	    })();
	</script>-->

	
	<link type="text/css" rel="stylesheet" href="/static/css/prettify.css" />	
	<script type="text/javascript" src="/static/js/prettify.js"></script>

	

<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
<body >
	<!-- Google Tag Manager -->
	<script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
													  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script>
	<!-- End Google Tag Manager -->
	
	<div class="header-cont">
		<div id="header-wrapper">
			

<div class="container w100">
	<div class="row">
		<div class="12u">
			<section>
				<div class="row">
					<div class="8u 6u(small) 6u(xsmall)">
						<div id="elastic">
							<h1><a href="/"></a></h1>
						</div>
						<!-- Searchbar Input box -->
						<form method="get" action="/search" name="searchForm" class="header-search-form">
						   <input type="text" id="search-header-autocomplete" name="q" class="form-control global-input" placeholder="elastic{search}">
						</form>
						<div class="mobile-auto-complete"></div> 
					</div>
					<div class="4u 6u(small) 6u(xsmall)">
						<!-- Mobile Menu -->
						<div class="mobile-menu-wrapper">
							<ul class="m-shortcuts">
								<li><a id="header-search" class="m-search" href="#"></a></li>
								<li><a class="m-guide" href="/guide"></a></li>
								<li><a class="m-contact" href="/contact"></a></li>
							</ul>											
							<nav class="nav-menu">
								<div class="menu-button">
									<span></span>
								</div>
								<div class="nav-menu-list-wrap">
									<div class="nav-menu-list">
										<h3><a href="/products">Products</a></h3>
										<ul>
											<li><a href="/products/elasticsearch">Elasticsearch</a></li>
											<li><a href="/products/logstash">Logstash</a></li>
											<li><a href="/products/kibana">Kibana</a></li>
											<li><a href="/products/shield">Shield</a></li>
											<li><a href="/products/marvel">Marvel</a></li>
											<li><a href="/products/hadoop">Hadoop</a></li>
											<li><a href="/subscriptions">Support</a></li>
											<li><a href="/downloads">Downloads</a></li>
										</ul>
										<h3><a href="/subscriptions">Subscriptions</a></h3>
										<h3><a href="/learn">Learn</a></h3>
										<ul>
											<li><a href="/guide">Docs</a></li>
											<li><a href="/videos">Videos</a></li>
											<li><a href="http://purchases.elasticsearch.com" target="_blank">Training</a></li>
											<li><a href="/blog">Blog</a></li>
											<li><a href="/elasticon">elastic{ON}</a></li>
										</ul>
										<h3><a href="/community">Community</a></h3>
										<ul>
											<li><a href="/community/meetups">Meetups</a></li>
										</ul>
										<h3><a href="/use-cases">Use Cases</a></h3>
										<h3><a href="/about">About</a></h3>
										<ul>
											<li><a href="/about/leadership">Leadership</a></li>
											<li><a href="/about/board">Board of Directors</a></li>
											<li><a href="/about/careers">Careers</a></li>
											<li><a href="/about/partners">Partners</a></li>
											<li><a href="/about/press">Press</a></li>
										</ul>
									</div>
								</div>
							</nav>
						</div>
						<!-- Shortcuts -->
						<nav id="shortcuts">
							<ul class="links">
								
									<li class="sc-downloads grayscale"><a href="/downloads" id="header_downloads">downloads</a></li>
								
									<li class="sc-docs grayscale"><a href="/guide" id="header_guide">docs</a></li>
								
									<li class="sc-support grayscale"><a href="/subscriptions" id="header_subscriptions">support</a></li>
								
									<li class="sc-contact grayscale"><a href="/contact" id="header_contact">contact</a></li>
								
							</ul>
						</nav>
					</div>
				</div>
			</section>
			

<section class="desktop-main-nav">
	<div class="row">
		<div class="9u">
			<!-- Nav -->
			<nav id="nav">
				<ul>
					
					<li>
						<a href="/products" id="nav_products" >PRODUCTS</a>
						
						<ul class="dropdown">
							
								<li><a href="/products/elasticsearch" id="nav_elasticsearch" >elasticsearch</a></li>								
							
								<li><a href="/products/logstash" id="nav_logstash" >logstash</a></li>								
							
								<li><a href="/products/kibana" id="nav_kibana" >kibana</a></li>								
							
								<li><a href="/products/shield" id="nav_shield" >shield</a></li>								
							
								<li><a href="/products/marvel" id="nav_marvel" >marvel</a></li>								
							
								<li><a href="/products/hadoop" id="nav_hadoop" >hadoop</a></li>								
							
								<li><a href="/subscriptions" id="nav_support" >support</a></li>								
							
								<li><a href="/downloads" id="nav_downloads" >downloads</a></li>								
								
						</ul>							
					</li>
					
					<li>
						<a href="/subscriptions" id="nav_subscriptions" >SUBSCRIPTIONS</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						<a href="/learn" id="nav_learn" >LEARN</a>
						
						<ul class="dropdown">
							
								<li><a href="/guide" id="nav_guide" >docs</a></li>								
							
								<li><a href="/videos" id="nav_videos" >videos</a></li>								
							
								<li><a href="http://purchases.elastic.co" id="nav_training" >training</a></li>								
							
								<li><a href="/blog" id="nav_learn_blog" >blog</a></li>								
							
								<li><a href="/elasticon" id="nav_learn_elasticon" >elastic{ON}</a></li>								
								
						</ul>							
					</li>
					
					<li>
						<a href="/community" id="nav_community" >COMMUNITY</a>
						
						<ul class="dropdown">
							
								<li><a href="/community/meetups" id="nav_meetups" >meetups</a></li>								
								
						</ul>							
					</li>
					
					<li>
						<a href="/use-cases" id="nav_usecases" >USE CASES</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						<a href="/blog" id="nav_blog" >BLOG</a>
						
						<ul class="dropdown">
								
						</ul>							
					</li>
					
					<li>
						<a href="/about" id="nav_about" >ABOUT</a>
						
						<ul class="dropdown">
							
								<li><a href="/about/leadership" id="nav_leadership" >leadership</a></li>								
							
								<li><a href="/about/board" id="nav_board" >board of directors</a></li>								
							
								<li><a href="/about/careers" id="nav_careers" >careers</a></li>								
							
								<li><a href="/about/partners" id="nav_partners" >partners</a></li>								
							
								<li><a href="/about/press" id="nav_press" >press</a></li>								
								
						</ul>							
					</li>
					
				</ul>
			</nav>
		</div>
		<!-- Search -->
		<div class="3u">
			<div id="searchbar">
				<form method="get" action="/search" name="searchForm">
					<input type="text" value="" name="q" placeholder="elastic{search}" id="autocomplete">
					<button class="button icon" onclick="searchForm.submit()">GO</button>
				</form>
			</div>
			<div class="nav-auto-complete"></div>
		</div>
	</div>
</section>

		</div>
	</div>
</div>

<style>	
	
		.sc-downloads{ background: url("/assets/blt0b75d0822b89593e/shortcuts.png") no-repeat;}
	
		.sc-docs{ background: url("/assets/blt0b75d0822b89593e/shortcuts.png") no-repeat;}
	
		.sc-support{ background: url("/assets/blt0b75d0822b89593e/shortcuts.png") no-repeat;}
	
		.sc-contact{ background: url("/assets/blt0b75d0822b89593e/shortcuts.png") no-repeat;}
		
</style>
		</div>
	</div>
  	<div id="content">
  		
  			
            <div id="pageheader">
    <div class="container">
        <header>
            <h1>Learn |</h1>
            <h2>Docs</h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide</a></span> » <span class="breadcrumb-link"><a href="getting-started.html">Getting Started </a></span> » <span class="breadcrumb-link"><a href="index-management.html">Index Management</a></span> » <span class="breadcrumb-node">The Root Object</span></div><div class="navheader"><span class="prev"><a href="mapping.html">
              « 
              Types and Mappings</a>
           
        </span><span class="next">
           
          <a href="dynamic-mapping.html">Dynamic Mapping
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="root-object"></a>The Root Object<a href="https://github.com/elastic/elasticsearch-definitive-guide/edit/master/070_Index_Mgmt/30_Root_Object.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="_creating_an_index.html">Creating an Index</a></span></dt><dt><span class="section"><a href="_deleting_an_index.html">Deleting an Index</a></span></dt><dt><span class="section"><a href="_index_settings.html">Index Settings</a></span></dt><dt><span class="section"><a href="configuring-analyzers.html">Configuring Analyzers</a></span></dt><dt><span class="section"><a href="custom-analyzers.html">Custom Analyzers</a></span></dt><dt><span class="section"><a href="mapping.html">Types and Mappings</a></span></dt><dt><span class="section"><a href="root-object.html">The Root Object</a></span></dt><dt><span class="section"><a href="dynamic-mapping.html">Dynamic Mapping</a></span></dt><dt><span class="section"><a href="custom-dynamic-mapping.html">Customizing Dynamic Mapping</a></span></dt><dt><span class="section"><a href="default-mapping.html">Default Mapping</a></span></dt><dt><span class="section"><a href="reindex.html">Reindexing Your Data</a></span></dt><dt><span class="section"><a href="index-aliases.html">Index Aliases and Zero Downtime</a></span></dt></dl></div><p>The uppermost level of a mapping is known <a id="id-1.4.12.9.2.1" class="indexterm"></a>
<a id="id-1.4.12.9.2.2" class="indexterm"></a><a id="id-1.4.12.9.2.3" class="indexterm"></a>as the <span class="emphasis"><em>root object</em></span>. It may
contain the following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
A <span class="emphasis"><em>properties</em></span> section, which lists the mapping for each field that a
  document may contain
</li><li class="listitem">
Various metadata fields, all of which start with an underscore, such
  as <code class="literal">_type</code>, <code class="literal">_id</code>, and <code class="literal">_source</code>
</li><li class="listitem">
Settings, which control how the dynamic detection of new fields
  is handled, such as <code class="literal">analyzer</code>, <code class="literal">dynamic_date_formats</code>, and
  <code class="literal">dynamic_templates</code>
</li><li class="listitem">
Other settings, which can be applied both to the root object and to fields
  of type <code class="literal">object</code>, such as <code class="literal">enabled</code>, <code class="literal">dynamic</code>, and <code class="literal">include_in_all</code>
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_properties"></a>Properties<a href="https://github.com/elastic/elasticsearch-definitive-guide/edit/master/070_Index_Mgmt/30_Root_Object.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>We have already discussed the three most important settings for document
fields or <a id="id-1.4.12.9.4.2.1" class="indexterm"></a>
<a id="id-1.4.12.9.4.2.2" class="indexterm"></a><a id="id-1.4.12.9.4.2.3" class="indexterm"></a>
<a id="id-1.4.12.9.4.2.4" class="indexterm"></a>properties in <a class="xref" href="mapping-intro.html#core-fields" title="Core Simple Field Types">Core Simple Field Types</a> and <a class="xref" href="complex-core-fields.html" title="Complex Core Field Types">Complex Core Field Types</a>:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">type</code>
</span></dt><dd>
   The datatype that the field contains, such as <code class="literal">string</code> or <code class="literal">date</code>
</dd><dt><span class="term">
<code class="literal">index</code>
</span></dt><dd>
   Whether a field should be searchable as full text (<code class="literal">analyzed</code>), searchable as an exact value (<code class="literal">not_analyzed</code>), or not searchable at all (<code class="literal">no</code>)
</dd><dt><span class="term">
<code class="literal">analyzer</code>
</span></dt><dd>
   Which <code class="literal">analyzer</code> to use for a full-text field, both at index time and at search time
</dd></dl></div><p>We will discuss other field types such as <code class="literal">ip</code>, <code class="literal">geo_point</code>, and <code class="literal">geo_shape</code> in
the appropriate sections later in the book.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="source-field"></a>Metadata: _source Field<a href="https://github.com/elastic/elasticsearch-definitive-guide/edit/master/070_Index_Mgmt/31_Metadata_source.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>By default, Elasticsearch <a id="id-1.4.12.9.5.2.1" class="indexterm"></a>
<a id="id-1.4.12.9.5.2.2" class="indexterm"></a><a id="id-1.4.12.9.5.2.3" class="indexterm"></a>stores the JSON string representing the
document body in the <code class="literal">_source</code> field. Like all stored fields, the <code class="literal">_source</code>
field is compressed before being written to disk.</p><p>This is almost always desired functionality because it means the following:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
The full document is available directly from the search results—no need
  for a separate round-trip to fetch the document from another data store.
</li><li class="listitem">
Partial <code class="literal">update</code> requests will not function without the <code class="literal">_source</code> field.
</li><li class="listitem">
When your mapping changes and you need to reindex your data, you can
  do so directly from Elasticsearch instead of having to retrieve all of your
  documents from another (usually slower) data store.
</li><li class="listitem">
Individual fields can be extracted from the <code class="literal">_source</code> field and returned
  in <code class="literal">get</code> or <code class="literal">search</code> requests when you don’t need to see the whole document.
</li><li class="listitem">
It is easier to debug queries, because you can see exactly what each document
  contains, rather than having to guess their contents from a list of IDs.
</li></ul></div><p>That said, storing the <code class="literal">_source</code> field does use disk space.  If none of the
preceding reasons is important to you, you can disable the <code class="literal">_source</code> field with
the following mapping:</p><pre class="programlisting prettyprint lang-js">PUT /my_index
{
    "mappings": {
        "my_type": {
            "_source": {
                "enabled":  false
            }
        }
    }
}</pre><p>In a search request, you can ask for only certain fields by specifying the
<code class="literal">_source</code> parameter in the request body:</p><pre class="programlisting prettyprint lang-js">GET /_search
{
    "query":   { "match_all": {}},
    "_source": [ "title", "created" ]
}</pre><a class="sense_widget" href="sense_widget.html?snippets/070_Index_Mgmt/31_Source_field.json" target="sense">View in Sense</a><p>Values for these fields will be extracted from the <code class="literal">_source</code> field and
returned instead of the full <code class="literal">_source</code>.</p><div class="sidebar"><div class="titlepage"><div><div><p class="title"><strong>Stored Fields</strong></p></div></div></div><p>Besides indexing the values of a field, you <a id="id-1.4.12.9.5.11.2.1" class="indexterm"></a><a id="id-1.4.12.9.5.11.2.2" class="indexterm"></a>
<a id="id-1.4.12.9.5.11.2.3" class="indexterm"></a>can also choose to <code class="literal">store</code> the
original field value for later retrieval. Users with a Lucene background use
stored fields to choose which fields they would like to be able to return in
their search results. In fact, the <code class="literal">_source</code> field is a stored field.</p><p>In Elasticsearch, setting individual document fields to be stored is usually a
false optimization. The whole document is already stored as the <code class="literal">_source</code>
field. It is almost always better to just extract the fields that you need
by using the <code class="literal">_source</code> parameter.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="all-field"></a>Metadata: _all Field<a href="https://github.com/elastic/elasticsearch-definitive-guide/edit/master/070_Index_Mgmt/32_Metadata_all.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>In <a class="xref" href="search-lite.html" title="Search Lite">Search <span class="emphasis"><em>Lite</em></span></a>, we introduced the <code class="literal">_all</code> field: a special field that
indexes the <a id="id-1.4.12.9.6.2.3" class="indexterm"></a>
<a id="id-1.4.12.9.6.2.4" class="indexterm"></a><a id="id-1.4.12.9.6.2.5" class="indexterm"></a>values from all other fields as one big string. The <code class="literal">query_string</code>
query clause (and searches performed as <code class="literal">?q=john</code>) defaults to searching in
the <code class="literal">_all</code> field if no other field is specified.</p><p>The <code class="literal">_all</code> field is useful during the exploratory phase of a new application,
while you are still unsure about the final structure that your documents will
have. You can throw any query string at it and you have a good chance of
finding the document you’re after:</p><pre class="programlisting prettyprint lang-js">GET /_search
{
    "match": {
        "_all": "john smith marketing"
    }
}</pre><p>As your application evolves and your search requirements become more exacting,
you will find yourself using the <code class="literal">_all</code> field less and less. The <code class="literal">_all</code> field
is a shotgun approach to search. By querying individual fields, you have more
flexbility, power, and fine-grained control over which results are considered
to be most relevant.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>One of the important factors taken into account by the
<a class="link" href="relevance-intro.html" title="What Is Relevance?">relevance algorithm</a>
is the length of the field: the shorter the field, the more important. A term
that appears in a short <code class="literal">title</code> field is likely to be more important than the
same term that appears somewhere in a long <code class="literal">content</code> field. This distinction
between field lengths disappears in the <code class="literal">_all</code> field.</p></div></div><p>If you decide that you no longer need the <code class="literal">_all</code> field, you can disable it
with this mapping:</p><pre class="programlisting prettyprint lang-js">PUT /my_index/_mapping/my_type
{
    "my_type": {
        "_all": { "enabled": false }
    }
}</pre><p>Inclusion in the <code class="literal">_all</code> field can be controlled on a field-by-field basis
by using the <code class="literal">include_in_all</code> setting, <a id="id-1.4.12.9.6.9.3" class="indexterm"></a>which defaults to <code class="literal">true</code>.  Setting
<code class="literal">include_in_all</code> on an object (or on the root object) changes the
default for all fields within that object.</p><p>You may find that you want to keep the <code class="literal">_all</code> field around to use
as a catchall full-text field just for specific fields, such as
<code class="literal">title</code>, <code class="literal">overview</code>, <code class="literal">summary</code>, and <code class="literal">tags</code>. Instead of disabling the <code class="literal">_all</code>
field completely, disable <code class="literal">include_in_all</code> for all fields by default,
and enable it only on the fields you choose:</p><pre class="programlisting prettyprint lang-js">PUT /my_index/my_type/_mapping
{
    "my_type": {
        "include_in_all": false,
        "properties": {
            "title": {
                "type":           "string",
                "include_in_all": true
            },
            ...
        }
    }
}</pre><p>Remember that the <code class="literal">_all</code> field is just<a id="id-1.4.12.9.6.12.2" class="indexterm"></a>
<a id="id-1.4.12.9.6.12.3" class="indexterm"></a> an analyzed <code class="literal">string</code> field.  It
uses the default analyzer to analyze its values, regardless of which
analyzer has been set on the fields where the values originate.  And
like any <code class="literal">string</code> field, you can configure which analyzer the <code class="literal">_all</code>
field should use:</p><pre class="programlisting prettyprint lang-js">PUT /my_index/my_type/_mapping
{
    "my_type": {
        "_all": { "analyzer": "whitespace" }
    }
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_metadata_document_identity"></a>Metadata: Document Identity<a href="https://github.com/elastic/elasticsearch-definitive-guide/edit/master/070_Index_Mgmt/33_Metadata_ID.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>There are four metadata fields <a id="id-1.4.12.9.7.2.1" class="indexterm"></a>
<a id="id-1.4.12.9.7.2.2" class="indexterm"></a>associated with document identity:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<code class="literal">_id</code>
</span></dt><dd>
   The string ID of the document
</dd><dt><span class="term">
<code class="literal">_type</code>
</span></dt><dd>
   The type name of the document
</dd><dt><span class="term">
<code class="literal">_index</code>
</span></dt><dd>
   The index where the document lives
</dd><dt><span class="term">
<code class="literal">_uid</code>
</span></dt><dd>
   The <code class="literal">_type</code> and <code class="literal">_id</code> concatenated together as <code class="literal">type#id</code>
</dd></dl></div><p>By default, the <code class="literal">_uid</code> field is<a id="id-1.4.12.9.7.4.2" class="indexterm"></a> stored (can be retrieved) and
indexed (searchable).  The <code class="literal">_type</code> field<a id="id-1.4.12.9.7.4.4" class="indexterm"></a><a id="id-1.4.12.9.7.4.5" class="indexterm"></a><a id="id-1.4.12.9.7.4.6" class="indexterm"></a> is indexed but not stored,
and the <code class="literal">_id</code> and <code class="literal">_index</code> fields are neither indexed nor stored, meaning
they don’t really exist.</p><p>In spite of this, you can query the <code class="literal">_id</code> field as though it were a real
field.  Elasticsearch uses the <code class="literal">_uid</code> field to derive the <code class="literal">_id</code>. Although you
can change the <code class="literal">index</code> and <code class="literal">store</code> settings for these fields, you almost
never need to do so.</p><p>The <code class="literal">_id</code> field does have one setting that you may want to use: the <code class="literal">path</code>
setting tells<a id="id-1.4.12.9.7.6.3" class="indexterm"></a>
<a id="id-1.4.12.9.7.6.4" class="indexterm"></a><a id="id-1.4.12.9.7.6.5" class="indexterm"></a> Elasticsearch that it should extract the value for the
<code class="literal">_id</code> from a field within the document itself.</p><pre class="programlisting prettyprint lang-js">PUT /my_index
{
    "mappings": {
        "my_type": {
            "_id": {
                "path": "doc_id" <a id="CO31-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
            },
            "properties": {
                "doc_id": {
                    "type":   "string",
                    "index":  "not_analyzed"
                }
            }
        }
    }
}</pre><a class="sense_widget" href="sense_widget.html?snippets/070_Index_Mgmt/33_ID_path.json" target="sense">View in Sense</a><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO31-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Extract the doc <code class="literal">_id</code> from the <code class="literal">doc_id</code> field.
</p></td></tr></table></div><p>Then, when you index a document:</p><pre class="programlisting prettyprint lang-js">POST /my_index/my_type
{
    "doc_id": "123"
}</pre><a class="sense_widget" href="sense_widget.html?snippets/070_Index_Mgmt/33_ID_path.json" target="sense">View in Sense</a><p>the <code class="literal">_id</code> value will be <a id="id-1.4.12.9.7.13.2" class="indexterm"></a>extracted from the <code class="literal">doc_id</code> field in the document
body:</p><pre class="programlisting prettyprint lang-js">{
    "_index":   "my_index",
    "_type":    "my_type",
    "_id":      "123", <a id="CO32-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    "_version": 1,
    "created":  true
}</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO32-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The <code class="literal">_id</code> has been extracted correctly.
</p></td></tr></table></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>While this is very convenient, be aware that it has a slight
performance impact on <code class="literal">bulk</code> requests (see <a class="xref" href="distrib-multi-doc.html#bulk-format" title="Why the Funny Format?">Why the Funny Format?</a>). The node handling
the request can no longer use the optimized bulk format to parse just
the metadata line in order to decide which shard should receive the request.
Instead, it has to parse the document body as well.</p></div></div></div></div><div class="navfooter"><span class="prev"><a href="mapping.html">
              « 
              Types and Mappings</a>
           
        </span><span class="next">
           
          <a href="dynamic-mapping.html">Dynamic Mapping
               »
            </a></span></div>
<!-- end body -->

            </section>

            <!-- Footer -->
        
	<div id="footer-wrapper">
		<section id="footer" class="container">
			<div class="row">
				<div class="12u">
					<!-- Copyright -->
					<div id="copyright">
	<p>
		© 2015. All Rights Reserved - Elasticsearch
	</p>
	<ul class="links">
		<li>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</li>
		<li><a href="/legal/trademarks" id="footer_trademarks">Trademarks</a></li>
		<li><a href="/legal/terms-of-use" id="footer_terms">Terms</a></li>
		<li><a href="/legal/privacy-policy" id="footer_privacy">Privacy</a></li>
	</ul>
	<p>
		Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other&nbsp;countries.
	</p>
</div><!--<div class="row">
{replace4}
</div>-->
				</div>
			</div>					
		</section>
	</div>
			
	<!-- Social Media -->
	<div id="socialmedia-wrapper">
		<section id="socialmedia" class="container">
			<!-- social icons -->
			<div id="social">
				<ul class="links">
					
						<li class="facebook grayscale"><a href="http://www.facebook.com/elastic.co" target="_blank" id="footer_facebook"></a></li>
					
						<li class="twitter grayscale"><a href="https://www.twitter.com/elastic" target="_blank" id="footer_twitter"></a></li>
					
						<li class="linkedin grayscale"><a href="http://www.linkedin.com/company/elasticsearch" target="_blank" id="footer_linkedin"></a></li>
					
						<li class="xing grayscale"><a href="https://www.xing.com/companies/elastic.co" target="_blank" id="footer_xing"></a></li>
					
				</ul>
			</div>
		</section>
	</div>


<style type="text/css">
	
		.facebook{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
		.twitter{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
		.linkedin{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
		.xing{background:url("/assets/blte0d4d10ae3bd8337/social-media.png") no-repeat;}		
	
</style>	

  	</div>
  	<!-- <div class="preloader">
    	<div class="status"></div>
	</div> -->
  	<style></style>
   	<script src="/static/js/jquery.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script src="/static/js/script.js"></script>
   	
   		

            <script type="text/javascript">
  jQuery(function() {
    jQuery('#guide a[id]').each(function() { this.href='#'+this.id });
    jQuery('pre.prettyprint').each(function() {
      var pre = jQuery(this);
      pre.css('position','absolute');
      pre.css('width','auto');
      var height = pre.innerHeight();
      pre.wrap('<div class="pre_wrapper" style="height:' + (10 + height) + 'px"></div>');
    })
  });
</script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>
<script type="text/javascript" >
  (function ($, $a, $title, $list) {
    $a = $('[id^="js-api-method-index"]');
    if (!$a.size()) return;
    $('#guide').addClass('js-client-docs');
    $list = $a.siblings('.itemizedlist').detach();
    $title = $(document.createElement('h2')).text('api methods')
    $a.parent().remove();
    $('.toc').first().append($(document.createElement('div')).addClass('js-api-method-index').append($title).append($list));
  }(jQuery));
</script>

            </body>
        